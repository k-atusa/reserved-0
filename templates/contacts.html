<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì „í™”ë²ˆí˜¸ë¶€</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f3f6; /* ë°ê³  ê¹¨ë—í•œ ë°°ê²½ */
            color: #333;
            margin: 0;
            padding: 0;
        }
        .header {
            background-color: #007bff; /* ë©”ì¸ ìƒ‰ìƒ */
            color: white;
            padding: 25px 15px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .header h1 {
            margin: 0;
            font-size: 1.6rem;
        }
        .main-content {
            padding: 15px;
        }
        .contact-list {
            list-style: none;
            padding: 0;
        }
        .contact-item {
            background: white;
            border-radius: 12px;
            margin-bottom: 15px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); /* ë¶€ë“œëŸ¬ìš´ ê·¸ë¦¼ì */
            display: flex;
            flex-direction: column; /* ì„¸ë¡œë¡œ ì •ë ¬ */
        }
        
        /* ì •ë³´ ì„¹ì…˜ */
        .contact-info {
            margin-bottom: 15px;
        }
        .contact-info strong {
            display: block;
            font-size: 1.2rem;
            color: #007bff; /* ì´ë¦„ ê°•ì¡° */
        }
        .contact-info .position {
            font-size: 0.9rem;
            color: #6c757d; /* ì§ì±…ì€ íšŒìƒ‰ìœ¼ë¡œ */
            margin-bottom: 8px;
        }
        .contact-info .number {
            font-size: 1.1rem;
            color: #333;
            font-weight: 500;
        }
        
        /* ë²„íŠ¼ ì„¹ì…˜ */
        .copy-buttons {
            display: flex;
            gap: 10px;
            border-top: 1px solid #eee; /* êµ¬ë¶„ì„  */
            padding-top: 15px;
        }
        .copy-btn {
            flex: 1; /* ë²„íŠ¼ ë„ˆë¹„ ê· ë“± ë¶„í•  */
            background-color: #f8f9fa; /* ë°ì€ ë°°ê²½ */
            color: #28a745; /* ë…¹ìƒ‰ ì•„ì´ì½˜/í…ìŠ¤íŠ¸ */
            border: 1px solid #ced4da;
            padding: 10px 5px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.95rem;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .copy-btn:hover {
            background-color: #e2f7e4;
            border-color: #28a745;
        }
        
        /* ì•„ì´ì½˜ ìŠ¤íƒ€ì¼ë§ */
        .copy-btn span {
            margin-right: 5px;
        }

        /* ì•Œë¦¼ ë©”ì‹œì§€ ìŠ¤íƒ€ì¼ */
        #notification {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #333;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            opacity: 0;
            transition: opacity 0.5s ease;
            z-index: 1000;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .back-link {
            text-align: center;
            margin-top: 25px;
            padding-bottom: 30px;
        }
        .back-link a {
            color: #007bff;
            text-decoration: none;
            font-weight: bold;
            padding: 8px 15px;
            border-radius: 5px;
            transition: color 0.2s;
        }
    </style>
</head>
<body>
    
    <div class="header">
        <h1>â˜ï¸ ì‹ ì… í•„ìˆ˜ ì—°ë½ì²˜</h1>
    </div>

    <div class="main-content">
        <ul class="contact-list">
            {% for contact in contacts %}
            <li class="contact-item">
                <div class="contact-info">
                    <strong id="name-{{ loop.index }}">{{ contact.name }}</strong>
                    <span class="position">{{ contact.position }}</span>
                    <span class="number" id="number-{{ loop.index }}">{{ contact.number }}</span>
                </div>
                
                <div class="copy-buttons">
                    <button class="copy-btn" onclick="copyToClipboard('{{ contact.name }}', 'name')">
                        <span>ğŸ‘¤</span> ì´ë¦„ ë³µì‚¬
                    </button>
                    <button class="copy-btn" onclick="copyToClipboard('{{ contact.number }}', 'number')">
                        <span>ğŸ“</span> ë²ˆí˜¸ ë³µì‚¬
                    </button>
                </div>
            </li>
            {% endfor %}
        </ul>
        
        <div class="back-link">
            <a href="{{ url_for('dashboard') }}">â† ëŒ€ì‹œë³´ë“œë¡œ ëŒì•„ê°€ê¸°</a>
        </div>
    </div>
    
    <div id="notification"></div>

    <script>
        function copyToClipboard(textToCopy, type) {
            // 1. í…ìŠ¤íŠ¸ë¥¼ í´ë¦½ë³´ë“œì— ë³µì‚¬
            navigator.clipboard.writeText(textToCopy).then(() => {
                // 2. ë³µì‚¬ ì„±ê³µ ì‹œ ì•Œë¦¼ í‘œì‹œ
                const notification = document.getElementById('notification');
                
                let message = '';
                if (type === 'number') {
                    message = `ğŸ“ ì „í™”ë²ˆí˜¸ (${textToCopy})ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!`;
                } else if (type === 'name') {
                    message = `ğŸ‘¤ ì´ë¦„ (${textToCopy})ì´ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!`;
                }

                notification.textContent = message;
                notification.style.opacity = '1';

                // 3. 2ì´ˆ í›„ ì•Œë¦¼ ìˆ¨ê¸°ê¸°
                setTimeout(() => {
                    notification.style.opacity = '0';
                }, 2000);
            }).catch(err => {
                console.error('í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨:', err);
                alert('ìë™ ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì§ì ‘ ë³µì‚¬í•´ ì£¼ì„¸ìš”.');
            });
        }
    </script>
</body>
</html>
